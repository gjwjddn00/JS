<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .list {
            width: 80%;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        .list > .item {
            flex-basis: 15%;
            height: 200px;
            border: 1px solid #777;
        }

    </style>
</head>
<body>
    <div style="text-align: center;">
    <button type="button" id="next" style="text-align: center;">다음 데이터</button>
    </div>

    <div class="list">
<!--         
        <div class="item">
            <p>좌표: </p>
            <p>주소: </p>
        </div>
         -->
    </div>

    <script>
        let key = '7455466e66796f703738787352584f';
        let pageNum = 1; // 페이지 번호
        let next = document.getElementById("next");

        next.addEventListener("click", function() {
            pageNum++;
            getAjex();

        })
        // 7455466e66796f703738787352584f // 인증키

        function getAjex() {

        let end = pageNum * 8;
        let start = end - 7;

        fetch(`http://openapi.seoul.go.kr:8088/${key}/json/TbPublicWifiInfo/${start}/${end}/`)
        .then(response => response.json())
        .then(data => {
            // console.log(data);
            let result = data.TbPublicWifiInfo.row;
            // console.log(result);



            let str = "";
            for(let i = 0; i < result.length; i++) {
                let lat = result[i].LAT;
                let lnt = result[i].LNT;
                let adrr = result[i].X_SWIFT_ADRES1 + " " + result[i].X_SWIFT_ADRES2;

                str += `<div class="item">`;
                str += `<p>좌표:` + lat + "," + adrr + `</p>`;
                str += `<p>주소:` +adrr + `</p>`;
                str += `</div>`;
                // console.log(lat, lnt, adrr);
            }

            // 마지막에 한방
            document.querySelector(".list").innerHTML = str;
        })
    }

    (function() {
        getAjex();
    })();

    </script>
</body>
</html>