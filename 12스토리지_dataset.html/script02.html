<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
        <input type="text" id="memo">
        <button type="button" id="add">세션 스토리지 추가</button>

        <ul class="box">

        </ul>
    

    <script>
        let memo = document.getElementById("memo");
        let add = document.getElementById("add");
        let box = document.querySelector("box");

        add.addEventListener("click", function() {

            let arr = [];

            // 검사 - 있으면 통째로 가져와서 배열 바꿔치기
            if(localStorage.getItem("memo") !== null) {
                let str = localStorage.getItem("memo");
                arr = JSON.parse(str); //string -> obj
            }

            arr.push(memo.value);
            localStorage.setItem("memo", JSON.stringify(arr));
            memo.value="";
            getStorage();

            // 로컬 스토리지 저장 - 동일한 키라면 수정됩니다.
            // localStorage.setItem("memo", memo.value);
            // memo.value="";

            // 값 얻기
            // let text = localStorage.getItem("memo"); // 키
            // console.log(text);

            // // 값 삭제
            // localStorage.removeItem("memo"); // 삭제
            // localStorage.clear(); // 전부삭제
        });

        // 가져오기
        function getStorage() {
            if(localStorage.getItem("memo") !== null) {
                let arr = JSON.parse(localStorage.getItem("memo"));
                
                let str = "";
                arr.forEach(function(item){
                    str += "<li>" + item + "</li>";
                });

                box.innerHTML = str;
            }
        }

        // 즉시 실행함수
        (function() {
            getStorage();
        })();
    </script>
</body>
</html>